<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>16表单验证.html</title>
    <style>
        .red {
            color: red;
        }

        .blue {
            color: blue;
        }
    </style>
</head>
<body>
<h1 align="center">用户登陆</h1>
<form name="dataFrmName" id="dataFrmId" action="#" method="get">
    <table border="1" align="center" cellspacing="0" width="50%" cellpadding="0">
        <tr>
            <td width="30%" align="right">用户名:</td>
            <td><input type="text" id="username" onblur="checkUserName()" name="username">
                <span id="usernameSpan"></span>
            </td>
        </tr>
        <tr>
            <td align="right">用户密码:</td>
            <td><input type="password" id="pwd" onblur="checkPwd()" name="pwd">
                <span id="pwdSpan"></span>
            </td>
        </tr>
    </table>
</form>
<div style="text-align: center">
    <input type="button" onclick="doSubmit()" value="提交">
    <input type="button" onclick="doReset()" value="重置">
</div>
</body>
<script>
    // 验证用户名
    function checkUserName() {
        let flag = true;
        // 找到用户名对象
        let usernameValue = document.getElementById("username").value;
        // 获取到验证结果的Span
        let usernameSpan = document.getElementById("usernameSpan");
        if (usernameValue == "") {
            usernameSpan.className = "red";
            usernameSpan.innerText = "用户名长度不能为空";
            flag = false;
        } else if (usernameValue.length < 6) {
            usernameSpan.className = "red";
            usernameSpan.innerText = "用户名长度小于6";
            flag = false;
        } else {
            usernameSpan.className = "blue";
            usernameSpan.innerText = "用户名可用";
        }
        return flag;
    }

    function checkPwd() {
        let flag = true;
        // 找到用户名对象
        let pwdValue = document.getElementById("pwd").value;
        // 获取到验证结果的Span
        let pwdSpan = document.getElementById("pwdSpan");
        if (pwdValue == "") {
            pwdSpan.className = "red";
            pwdSpan.innerText = "密码长度不能为空";
            flag = false;
        } else if (pwdValue.length < 6) {
            pwdSpan.className = "red";
            pwdSpan.innerText = "密码长度小于6";
            flag = false;
        } else {
            pwdSpan.className = "blue";
            pwdSpan.innerText = "密码可用";
        }
        return flag;
    }

    function doSubmit() {
        // 这里需要验证，注意：这里需要在方法里定义Boolean类型的返回值才可以触发if条件
        if (checkUserName() && checkPwd()) {
            let form = document.getElementById("dataFrmId");
            form.submit();
        }

    }

    function doReset() {
        let form = document.getElementById("dataFrmId");
        form.reset();
    }

</script>
</html>